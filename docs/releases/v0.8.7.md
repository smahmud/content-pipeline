# Release v0.8.7 — Format Command Enhancements

**Release Date**: February 20, 2026  
**Previous Version**: v0.8.6

---

## Overview

v0.8.7 extends the format command with advanced content repurposing capabilities: multi-source input combining, AI image prompt generation, code sample integration, and AI video script output for platforms like Sora, Runway, and Pika.

---

## What's New

### Multi-Source Input (`--sources` flag)
- `SourceCombiner` loads and merges multiple enriched JSON, TXT, MD, and PDF files from a folder
- Deduplicates tags, topics, and key points across sources
- Carries forward enrichment metadata from source files

### AI Image Prompt Generation (`--image-prompts` flag)
- `ImagePromptGenerator` creates DALL-E/Midjourney/Gemini-ready prompts
- Platform-aware dimensions (Medium, YouTube, LinkedIn, etc.)
- Generates header, thumbnail, and section image prompts

### Code Sample Integration (`--include-code` flag)
- `CodeSampleGenerator` detects technical content and generates relevant code samples
- Auto-detects programming languages from topics and tags
- Supports Python, JavaScript, TypeScript, Bash, SQL, and more

### AI Video Script Output Type (`ai-video-script`)
- `AIVideoScriptGenerator` creates scripts for Sora, Runway, and Pika
- Platform configs for YouTube (16:9), TikTok (9:16), Vimeo (16:9)
- Scene-by-scene structure with visual descriptions, voiceover, and music suggestions

### New Platforms
- `tiktok` and `vimeo` added to Platform enum and PlatformValidator

---

## Usage Examples

```bash
# Multi-source input
content-pipeline format --sources ./enriched-folder/ --type blog

# Generate with image prompts
content-pipeline format --input enriched.json --type blog --image-prompts

# Include code samples for technical content
content-pipeline format --input enriched.json --type blog --include-code

# AI video script for YouTube
content-pipeline format --input enriched.json --type ai-video-script --platform youtube

# AI video script for TikTok
content-pipeline format --input enriched.json --type ai-video-script --platform tiktok
```

---

## Test Coverage

- 18 unit tests for FormatComposer extensions
- 21 unit tests for SourceCombiner
- 27 unit tests for ImagePromptGenerator
- 34 unit tests for CodeSampleGenerator
- 43 unit tests for AIVideoScriptGenerator
- 4 end-to-end integration tests
- 160 total formatter tests passing

---

## Upgrade Guide

No breaking changes. New flags are additive. Existing `format` command usage is fully backward compatible.

---

## Known Limitations

- PDF support in SourceCombiner requires `PyPDF2` package (optional dependency)
- Image prompts are text descriptions only — actual image generation requires external tools
- Code samples are template-based, not LLM-generated
